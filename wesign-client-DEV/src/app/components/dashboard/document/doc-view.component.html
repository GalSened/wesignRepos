<body class="ct-p-user-sign">
    <div class="ct-c-titlebar">
        <main>
            <div></div>
        </main>
        <nav>
            <button (click)='back()' class="ct-button--titlebar-outline">
                {{'FORGET.BACK' | translate}}
            </button>

            <button class="ct-button--titlebar-primary is-long" (click)="download()" [disabled]="isBusy">
                {{'TEMPLATE.SAVE' | translate}}
            </button>
        </nav>
    </div>
    <main>
        <div class="main__content" *ngIf="pages$ | async as pages">
            <sgn-zoom [totalPages]="pages.length" [(zmodel)]="zmodel" (changeBackgroundEvent)="changeBackgroud()" [currentPage]="currentPage">
            </sgn-zoom>

            <div class="ct-c-document" [class.bg-is-dark]="isDark" [class.bg-is-light]="!isDark">
                <div class="doc__image" style="margin: 0 auto;"
                    [ngStyle]="{'zoom': zmodel.ZoomLevel, '-moz-transform':'scale('+zmodel.ZoomLevel+')', '-moz-transform-origin':'top center', '-o-transform':'scale('+zmodel.ZoomLevel+')', '-o-transform-origin':'top center', '-webkit-transform':'scale('+zmodel.ZoomLevel+')' , '-webkit-transform-origin':'top center', 'transform':'scale('+zmodel.ZoomLevel+')', 'transform-origin':'top center' }">
                    <ng-container *ngFor="let page of pages$ | async ;let i = index;">
                        <div viewpage [pageNumber]="documentPages[page-1].pageNumber" [collectionId]="collectionId" [pageData]="documentPages[page-1]"
                            [displayPageNumber]="i+1" class="doc__image" (changePageScroll) = "changePageNumber($event)">
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </main>
</body>