<body class="ct-p-login">

  <main>
    <div class="main__img"></div>

    <div class="main__content">
      <header>
        <div class="header__logo"></div>

        <app-lang #lang></app-lang>
      </header>

      <div class="content__form ct-animate-fadein">
        <h2>{{'SINGLE_LINK.SIGN_DOCUMENT' | translate}}</h2>

        <div class="ct-break--shorter"></div>

        <span>{{'SINGLE_LINK.FILL_INFO' | translate}}</span>

        <div class="ct-break--short"></div>

        <form #f="ngForm" (ngSubmit)="onSubmit(f)">
          <div class="ct-input--secondary__container">
            <input type="text" class="ct-input--primary" name="fullname" ngModel required minlength="2" maxlength="50"
              #fullname="ngModel" [class.is-error]="fullname.invalid && submitted" autocomplete="off"
              placeholder="{{'SINGLE_LINK.FULL_NAME' | translate}}">

            <span class="input-border"></span>
          </div>

          <div class="ct-break--short"></div>

          <div class="add-signers__container is-lite ct-text-center">
            <!-- <input type="text" class="ct-input--primary"  required minlength="2"
              maxlength="50" placeholder="{{'SINGLE_LINK.EMIL_OR_PHONE' | translate}}" 
              name="signerMeans" ngModel #signerMeans="ngModel"
              [class.ws_input--error]="signerMeans.invalid && submitted"> -->

            <select class="ct-select--primary" style="width: 100%;" (change)="onSignerMethodChanged($event)">
              <option [selected]="useEmail">{{'GLOBAL.SEND_BY_EMAIL' | translate}}</option>
              <option [selected]="!useEmail">{{'GLOBAL.SEND_BY_SMS' | translate}}</option>
            </select>
            <div class="ct-break--short"></div>

            <div *ngIf="useEmail">
              <input name="signerMeans" ngModel #signerMeans="ngModel"
                [class.is-error]="signerMeans.invalid && submitted" type="text" required
                pattern="([\w-\.]+@([\w-]+\.)+[\w-]{2,100})" class="ct-input--primary"
                placeholder="{{'GLOBAL.EMAIL' | translate}}" minlength="3" maxlength="50">
            </div>
            <div *ngIf="!useEmail">
              <div class="ct-text-center" *ngIf="!isSmsProviderSupportGloballySend">
                <label class="color--alert">{{'SINGLE_LINK.SMS_ONLY_ISRAELI_NUMBERS' | translate}}</label>
                <div class="ct-break--shorter"></div>
              </div>


              <input type="text" *ngIf="!isSmsProviderSupportGloballySend &&!useEmail"  name="signerMeans" ngModel #signerMeans="ngModel"              
                [class.is-error]="signerMeans.invalid && submitted" required
                pattern="^[0-9]{10}$"
                class="ct-input--primary" maxlength="50">

              <input *ngIf="!useEmail && isSmsProviderSupportGloballySend" ng2TelInput name="signerMeans" ngModel #signerMeans="ngModel"
                [class.is-error]="signerMeans.invalid && submitted" required
                pattern="(\+\d{1,3}\s?)?((\(\d{3}\)\s?)|(\d{3})(\s|-?))(\d{3}(\s|-?))(\d{4})(\s?(([E|e]xt[:|.|]?)|x|X)(\s?\d+))?"
                class="ct-input--primary" (countryChange)="onCountryChange($event)"
                [ng2TelInputOptions]="{initialCountry: 'il'}" maxlength="50">
            </div>

          </div>

          <label class="is-error" *ngIf="signerMeans">{{'ERROR.INPUT.3' | translate}}</label>

          <div class="ct-break--medium"></div>

          <input type="submit" [disabled]="submitted && isBusy" value="{{'BUTTONS.SIGN_DOCUMENT' | translate}}">

          <div class="ct-c-loader ct-float-right" *ngIf="isBusy">
            <div></div>
            <div></div>
            <div></div>
          </div>

          <div class="ct-break--shorter"></div>

          <div class="ct-text-center" *ngIf="showError">
            <label class="is-error">{{errorMessage}}</label>
            <div class="ct-break--shorter"></div>
          </div>
        </form>
      </div>

      <footer>
        <a [routerLink]="[ '/terms']">{{'OTP.TERM_OF_USE' | translate}}</a> <span>|</span> <a
          [routerLink]="['/privacy']">{{'OTP.PRIVACY_POLICY' | translate}}</a> <span>|</span> <a
          href="https://www.comsigntrust.com/">ComsignTrust.com</a>

        <div class="ct-break--shorter"></div>

        <span>Copyright â’¸  {{year}} ComsignTrust - Digital Signature and eSignature Software Solutions</span>
      </footer>
    </div>
  </main>

</body>