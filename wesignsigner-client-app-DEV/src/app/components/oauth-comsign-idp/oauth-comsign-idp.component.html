<app-alert [isConfirm]="isConfirmAlert" [isError]="isErrorAlert" [message]="alertMessage" *ngIf="showAlertMessage"
  (closeAlertEvent)="closeAlert()">
</app-alert>
<app-decline [token]="token"></app-decline>


<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="large" color="#fff" type="ball-clip-rotate-pulse" [fullScreen]="true">
  <p style="color: white"> {{'GLOBAL.LOADING_CHECK_VALIDATION_RESULT' | translate}} </p>
</ngx-spinner>

<ng-container *ngIf="inAuthFlowRequest">

  <header>
    <div class="header__logo"></div>
    <app-lang></app-lang>
  </header>
  <div class="center_data">
    <div class="center_data_margin">

      <div>
        <div class="ct-break--short"></div>

        <div class="ct-is-shown">
          <h2>{{'FACE_RECOGNITION.DOC_READY_FOR_SIGN' | translate}}</h2>

          <div class="ct-break--shorter"></div>
          <h3 class="center_data">{{'FACE_RECOGNITION.IN_ORDER_TO_REVIEW' | translate}}</h3>

        </div>
        <div class="ct-break--shorter"></div>
        <div class="imageswraper">
          <div style="padding-top: 20px;">
            <div class="ct-break--shorter"></div>
            <h3 class="center_data">{{'FACE_RECOGNITION.CERTIFICATE_VERIFICATION' | translate}}</h3>
            <div class="id_camara_image"></div>
            <span class="center_data bold_text">{{'FACE_RECOGNITION.DONE_WITH' | translate}}</span>
            <div class="ct-break"></div>
            <span class="center_data light_blue bold_text">{{'FACE_RECOGNITION.IDS' | translate}}</span>
          </div>
          <div style="padding-top: 20px;">
            <div class="ct-break--shorter"></div>
            <h3 class="center_data">{{'FACE_RECOGNITION.FACE_RECONGNITION' | translate}}</h3>
            <div class="face_camera_image"></div>
            <span class="center_data bold_text">{{'FACE_RECOGNITION.DONE_WITH' | translate}}</span>
            <div class="ct-break"></div>
            <span class="center_data bold_text">{{'FACE_RECOGNITION.DEVICE_CAMERA' | translate}}</span>
          </div>
        </div>

        <div class="ct-break--short"></div>

        <form class="recog_inputs" (ngSubmit)="CreateAuthFlow()">
          <input class="start_process round_input" type="submit"
            value="{{'FACE_RECOGNITION.FACE_RECOGNITION_START_PROCESS' | translate}}">
          <input class="start_process decline_recognition round_input" type="button" style="cursor: pointer;"
            (click)="declineDocument()" value="{{'MENU.DECLINE_DOCUMENT' | translate}}">
        </form>

      </div>
    </div>


  </div>
</ng-container>

<ng-container *ngIf="inAuthFlow">
  <iframe id="frame" width="100%" height="100%" [src]="current_url" allow="camera; microphone"></iframe>
</ng-container>




<ng-container *ngIf="showVisualIdentityOperationFailed">

  <body class="ct-p-login">
    <!--[if IE]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
      <![endif]-->

    <!-- Add your site or application content here 
    
    
    
            "FACE_RECOGNITION_FAILED":"זיהוי פנים נכשל!",
        "IDENTIFICATION_WAS_UNSUCCESSFUL" : "הזיהוי לא הצליח",
        "YOU_ARE_NOT_AUTHORIZED_TO_SIGN_THIS_DOCUMENT":"אינך מורשה לחתום על מסמך זה."
      -->
    <header>
      <div class="header__logo"></div>

    </header>
    <div>
      <div class="center_data">

        <div class="ct-break--large"></div>

        <div class="ct-i-face-recognition-general"></div>
        <div class="ct-break--medium"></div>
        <h1> {{'FACE_RECOGNITION.FACE_RECOGNITION_FAILED' | translate}}</h1>
        <div class="ct-break--medium"></div>
        <span>{{'FACE_RECOGNITION.IDENTIFICATION_WAS_UNSUCCESSFUL' | translate}}</span>
        <br>
        <span>{{'FACE_RECOGNITION.YOU_ARE_NOT_AUTHORIZED_TO_SIGN_THIS_DOCUMENT' | translate}}</span>
        <div class="ct-break--large"></div>
      </div>


    </div>
  </body>
</ng-container>
<ng-container *ngIf="showVisualIdentityWrongUser">

  <body class="ct-p-login">
    <!--[if IE]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
      <![endif]-->

    <!-- Add your site or application content here 
    
    
    
            "FACE_RECOGNITION_FAILED":"זיהוי פנים נכשל!",
        "IDENTIFICATION_WAS_UNSUCCESSFUL" : "הזיהוי לא הצליח",
        "YOU_ARE_NOT_AUTHORIZED_TO_SIGN_THIS_DOCUMENT":"אינך מורשה לחתום על מסמך זה."
      -->
    <header>
      <div class="header__logo"></div>

    </header>
    <div>
      <div class="center_data">
        <div class="ct-break--large"></div>

        <div class="ct-i-face-recognition-falied"></div>
        <div class="ct-break--medium"></div>
        <h1> {{'FACE_RECOGNITION.IDENTIFY_YOU_NOT_THE_PERSON_TITLE' | translate}}</h1>
        <div class="ct-break--medium"></div>
        <span>{{'FACE_RECOGNITION.IDENTIFY_YOU_NOT_THE_PERSON' | translate}}</span>
        <div class="ct-break--large"></div>
      </div>


    </div>
  </body>
</ng-container>